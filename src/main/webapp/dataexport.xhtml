<ui:composition template="/WEB-INF/templates/layout.xhtml"
	xmlns:faces="jakarta.faces" xmlns:f="jakarta.faces.core"
	xmlns:h="jakarta.faces.html" xmlns:ui="jakarta.faces.facelets"
	xmlns:pt="jakarta.faces.passthrough">

	<ui:define name="content">


		<f:view>
			<h:form id="amdinp_form_id">

				<ui:include src="/WEB-INF/includes/layout/header.xhtml">
					<ui:param name="title" value="Export" />
					<ui:param name="icon" value="typcn-upload-outline" />
				</ui:include>



				<div class="card">

					<p class="help">
						<span class="typcn typcn-lightbulb"></span> Define a <a
							href="https://www.imixs.org/doc/engine/queries.html"
							target="_help">Lucene Search Query</a> or a <a
							href="https://www.imixs.org/doc/engine/documentservice.html#Query_Documents"
							target="_help">JPA Query </a> to define the data set to be
						exported. The result will be stored in a XML file on the given
						server directory.
					</p>


					<div class="imixs-form-section">
						<dl style="grid-column-start: span 12;">
							<dd>
								<h:inputTextarea value="#{exportImportController.query}"
									pt:spellcheck="false" style="width: 100%;height: 7em;"
									disabled="#{!connectionController.connected}" required="true" />
							</dd>
						</dl>
					</div>

					<div class="imixs-form-section">
						<dl style="grid-column-start: span 6;">
							<dt>Filepath:</dt>
							<dd>
								<h:inputText value="#{exportImportController.filePath}"
									disabled="#{!connectionController.connected}" />
							</dd>
						</dl>
					</div>

					<h:commandButton value="Export"
						actionListener="#{exportImportController.exportData()}"
						disabled="#{!connectionController.connected}" />


				</div>

				<!-- Log -->
				<ui:include src="log.xhtml" />
			</h:form>
		</f:view>

	</ui:define>
</ui:composition>

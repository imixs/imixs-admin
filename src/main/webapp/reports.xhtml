<ui:composition template="/WEB-INF/templates/layout.xhtml" xmlns:faces="jakarta.faces" xmlns:f="jakarta.faces.core"
	xmlns:h="jakarta.faces.html" xmlns:ui="jakarta.faces.facelets" xmlns:pt="jakarta.faces.passthrough">

	<ui:define name="content">

		<f:view>
			<h:form id="models_form_id">

				<div class="header">
					<h2>
						<span class="typcn typcn-chart-bar-outline"></span> Reports <span class="endpoint"><span
								class="typcn typcn-media-record"></span>
							#{connectionController.endpoint}</span>
					</h2>
				</div>


				<div class="card">
					<table id="imixsdatatable" class="imixsdatatable" style="width: 100%;">
						<thead>
							<tr>
								<th>Name</th>
								<th>Content Type</th>
								<th>Encoding</th>
								<th>Last Update</th>
								<th></th>
							</tr>
						</thead>
						<tbody>
							<ui:repeat var="report" value="#{reportController.reports}">
								<tr>

									<td>
										<h:commandLink action="report" value="#{report.item['txtname']}"
											actionListener="#{reportController.loadReport(report.item['$uniqueid'])}"
											disabled="#{!connectionController.connected}">
										</h:commandLink>
									</td>

									<td>#{report.item['contenttype']}</td>

									<td>#{report.item['encoding']}</td>

									<td>#{report.item['$modified']}</td>

									<!-- delete -->
									<td>
										<h:commandLink
											actionListener="#{reportController.deleteReport(report.item['$uniqueid'])}"
											disabled="#{!connectionController.connected}"
											onclick="return (confirm('Delete Report #{report.item['txtname']} ?'))">
											<span class="typcn typcn-trash pull-right error"></span>
										</h:commandLink>
									</td>


								</tr>
							</ui:repeat>
						</tbody>
					</table>

					<h:commandButton actionListener="#{reportController.createReport()}" value="Add"
						disabled="#{!connectionController.connected}" action="report">

					</h:commandButton>



				</div>
			</h:form>
		</f:view>

	</ui:define>
</ui:composition>